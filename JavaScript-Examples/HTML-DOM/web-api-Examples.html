<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web API Examples</title>
</head>
<body>
    

    <h2>Examples are Display Here : </h2>

    <!-- <p>Count Numbers : <output id="result"></output></p>
    <button onclick="startWorker()">Start Worker</button>
    <button onclick="stopWorker()">Stop Worker</button> -->



    <p id="para1"></p>
    <p id="para2"></p>

    <script>
        // const documentVariable = document.getElementById("para");

        // function getLocation(){
        //     try{
        //         navigator.geolocation.getCurrentPosition(displayPosition);
        //     }
        //     catch(err){
        //         documentVariable.innerHTML = err;
        //     }
        // }

        // function displayPosition(position){
        //     documentVariable.innerHTML = "Latitutde " + position.coords.latitude + " \n " + position.coords.Longitude;
        // }

        //------------------------------------------------------------

        //Input validation Example

        
        
        // function validationFunction() {
        //     const inputVariable = document.getElementById("input_one");

        //     if(!inputVariable.checkValidity()){
        //         document.getElementById("para").innerHTML = inputVariable.validationMessage;
        //     }
            
        //     else{
        //         document.getElementById("para").innerHTML = "Input OK";
        //     }

        // }


        //web Storage API Example
        
        //local storage Example 

        // localStorage.setItem("name","Karthick");
        // document.getElementById("para").innerHTML = localStorage.getItem("name");

         //sessionStorage Example

        // sessionStorage.setItem("id",123);
        // document.getElementById("para").innerHTML = sessionStorage.getItem("id");


        //fetch API Example

        // import fetch from 'node-fetch';

        // async function fetchText(){
        //     let response = new fetch("fetch_data.txt");

        //     console.log(response.status);
        //     console.log(response.statusText);

        //     if(response.status == 200){
        //         let data  = await response.text();
        //     }

        // }

        // fetchText();


        //web worker API Example

        // let w;

        // function startWorker(){
        //     if(typeof(w) == "undefined"){
        //         w = new Worker("counter.js");
        //     }

        //     w.onmessage = function (event){
        //         document.getElementById("result").innerHTML = event.data;
        //     };
        // }

        // function stopWorker(){
        //     w.terminate();
        //     w = undefined;
        // }

    //get file from browser using web API Example 


        // getText("example_data.json");

        // async function getText(file){
        //     let x = await fetch(file);
        //     let y = await x.text();

        //     document.getElementById("para").innerHTML = y;
        // }

        //Get request web API Example

        
            // getUser("https://jsonplaceholder.typicode.com/users/1");

            // async function getUser(file){
            //     let read = await fetch(file);
            //     let display = await read.text();

            //     document.getElementById("para").innerHTML = display;
            // }


        //Post request web API Example


        createNewUser("https://jsonplaceholder.typicode.com/posts");

        async function createNewUser(file){

            let createVariable  = fetch(file, {
                method : 'POST',
                body : JSON.stringify({
                    title : 'karthick',
                    body : "batman",
                    userId : 123,
                }),
                headers : {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })

            .then((response) => response.text())
            .then((users) => document.getElementById("para1").innerHTML = users);

        }

        getUsers("https://jsonplaceholder.typicode.com/users");

        async function getUsers(file){
            let read = await fetch(file);
            let display = await read.text();

            document.getElementById("para2").innerHTML = display;
        }

        



    </script>
</body>
</html>